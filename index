<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Story Adventure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c; /* Dark background */
            color: #e2e8f0; /* Light text */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 1rem;
            box-sizing: border-box;
        }
        .story-container {
            background-color: #2d3748; /* Slightly lighter dark background for container */
            border-radius: 1.5rem; /* More rounded corners */
            padding: 2.5rem; /* Increased padding */
            max-width: 600px;
            width: 100%;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .story-text {
            font-size: 1.125rem; /* Larger text */
            line-height: 1.75;
            text-align: center;
        }
        .choices-container {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        .choice-button {
            background-color: #4299e1; /* Blue button */
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem; /* Rounded buttons */
            font-weight: 600;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.1s ease;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .choice-button:hover {
            background-color: #3182ce; /* Darker blue on hover */
            transform: translateY(-2px);
        }
        .choice-button:active {
            transform: translateY(0);
        }
        .restart-button {
            background-color: #e53e3e; /* Red for restart */
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 600;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.1s ease;
            margin-top: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .restart-button:hover {
            background-color: #c53030; /* Darker red on hover */
            transform: translateY(-2px);
        }
        .restart-button:active {
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <div class="story-container">
        <div id="story-text" class="story-text"></div>
        <div id="choices-container" class="choices-container"></div>
        <button id="restart-button" class="restart-button hidden">Start Over</button>
    </div>

    <script>
        // Define the story nodes (scenes)
        const story = {
            start: {
                text: "You awaken in a dimly lit chamber, a strange hum vibrating through the air. A single, ancient door stands before you, etched with glowing symbols. What do you do?",
                choices: [
                    { text: "Examine the symbols on the door.", next: "examine_symbols" },
                    { text: "Try to open the door.", next: "open_door_attempt" },
                    { text: "Look for another exit.", next: "look_for_exit" }
                ]
            },
            examine_symbols: {
                text: "The symbols pulse faintly. They seem to depict a celestial map, but one you don't recognize. As you trace them, a section of the wall slides open, revealing a narrow, dark passage.",
                choices: [
                    { text: "Enter the dark passage.", next: "enter_passage" },
                    { text: "Return to the main chamber and try the door.", next: "open_door_attempt" }
                ]
            },
            open_door_attempt: {
                text: "You push against the heavy door. It groans, but remains sealed. A faint whisper seems to emanate from within, urging you to find another way.",
                choices: [
                    { text: "Look for another exit.", next: "look_for_exit" },
                    { text: "Examine the symbols on the door more closely.", next: "examine_symbols" }
                ]
            },
            look_for_exit: {
                text: "You search the perimeter of the chamber. Behind a crumbling pillar, you find a small, hidden lever. Pulling it reveals a secret hatch in the floor.",
                choices: [
                    { text: "Descend into the hatch.", next: "descend_hatch" },
                    { text: "Ignore the hatch and try the door again.", next: "open_door_attempt" }
                ]
            },
            enter_passage: {
                text: "The passage is cold and damp. After a long walk, you emerge into a vast cavern filled with glowing crystals. In the center, a shimmering portal beckons.",
                choices: [
                    { text: "Step through the portal.", next: "portal_destination" },
                    { text: "Examine the crystals.", next: "examine_crystals" }
                ]
            },
            descend_hatch: {
                text: "You slide down a chute, landing softly in a room filled with ancient machinery. A large, dusty console has a single, glowing red button.",
                choices: [
                    { text: "Press the red button.", next: "press_button" },
                    { text: "Try to understand the machinery first.", next: "understand_machinery" }
                ]
            },
            portal_destination: {
                text: "You step through the portal and find yourself on a vibrant, alien world, bathed in the light of two suns. A new adventure begins!",
                choices: [] // End of story
            },
            examine_crystals: {
                text: "As you touch a crystal, it flares brightly, and a vision flashes through your mind: a forgotten history of this chamber. You now understand the door's symbols and how to activate them from here.",
                choices: [
                    { text: "Activate the symbols to open the main door.", next: "open_main_door_from_crystals" },
                    { text: "Still step through the portal.", next: "portal_destination" }
                ]
            },
            open_main_door_from_crystals: {
                text: "With your new knowledge, you focus on the symbols. The ancient door in the main chamber slowly grinds open, revealing a path to freedom!",
                choices: [] // End of story
            },
            press_button: {
                text: "You press the red button. Alarms blare, and the room begins to fill with a strange, green gas. You realize too late this was a trap!",
                choices: [] // End of story (bad ending)
            },
            understand_machinery: {
                text: "You carefully study the console. It's a complex teleportation device, but it's missing a key component. You realize you need to find something to power it.",
                choices: [
                    { text: "Go back up the hatch to look for clues.", next: "look_for_exit" }, // Loop back to previous choice
                    { text: "Give up and press the red button anyway.", next: "press_button" }
                ]
            },
            // Endings
            win_portal: {
                text: "Congratulations! You've found a new world and a fresh start. Your adventure continues beyond this chamber!",
                choices: []
            },
            win_door: {
                text: "Success! You've escaped the mysterious chamber and found your way to freedom. What will your next journey be?",
                choices: []
            },
            lose_gas: {
                text: "The gas fills the room, and your vision blurs. This was not the escape you hoped for. Game Over.",
                choices: []
            }
        };

        let currentScene = 'start';

        const storyTextElement = document.getElementById('story-text');
        const choicesContainerElement = document.getElementById('choices-container');
        const restartButton = document.getElementById('restart-button');

        // Function to display a scene
        function showScene(sceneKey) {
            currentScene = sceneKey;
            const scene = story[sceneKey];

            storyTextElement.textContent = scene.text;
            choicesContainerElement.innerHTML = ''; // Clear previous choices

            if (scene.choices.length === 0) {
                // If it's an ending, show restart button
                restartButton.classList.remove('hidden');
            } else {
                restartButton.classList.add('hidden');
                scene.choices.forEach(choice => {
                    const button = document.createElement('button');
                    button.classList.add('choice-button');
                    button.textContent = choice.text;
                    button.addEventListener('click', () => {
                        showScene(choice.next);
                    });
                    choicesContainerElement.appendChild(button);
                });
            }
        }

        // Event listener for restart button
        restartButton.addEventListener('click', () => {
            showScene('start');
        });

        // Initialize the story
        showScene(currentScene);
    </script>
</body>
</html>
